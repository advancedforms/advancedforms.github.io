<!DOCTYPE html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
  <!--<![endif]-->
  <head>
    <meta charset="utf-8" />

<title>Customizing validations &#8211; Advanced Forms Documentation</title>


<link rel="canonical" href="" />
<link
  href="https://advancedforms.github.io/feed.xml"
  type="application/atom+xml"
  rel="alternate"
  title="Advanced Forms Documentation Feed"
/>

<meta name="description" content="Wordpress plugin for creating flexible and developer-friendly forms using the power of Advanced Custom Fields
" />

<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<!-- For all browsers -->
<link rel="stylesheet" href="https://advancedforms.github.io/assets/css/style.css" />

<meta http-equiv="cleartype" content="on" />

<meta property="og:title" content="Advanced Forms Documentation" />
<meta property="og:description" content="Wordpress plugin for creating flexible and developer-friendly forms using the power of Advanced Custom Fields
" />
<meta property="og:site_name" content="Advanced Forms" />
<meta property="og:type" content="website" />
<meta
  property="og:image"
  content="https://advancedforms.github.io/assets/images/icon-128x128.png"
/>

<script src="https://advancedforms.github.io/assets/js/autocomplete.min.js"></script>
<script src="https://advancedforms.github.io/assets/js/elasticlunr.min.js"></script>

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
  <script src="https://advancedforms.github.io/assets/js/vendor/html5shiv.min.js"></script>
  <script src="https://advancedforms.github.io/assets/js/vendor/respond.min.js"></script>
<![endif]-->

  </head>

  <body>
    <header>
  <div class="container flex">
    <a class="logo-wrapper" href="/"
      ><img
        src="/assets/images/icon-128x128.png"
        class="logo"
        alt="Advanced Forms logo"
    /></a>

    <div class="search-wrapper">
      <input
        type="text"
        class="search"
        id="search"
        placeholder="Search guides, actions and filters..."
      />
    </div>
  </div>
</header>


    <div class="main container">
      <div class="post">
        <div class="breadcrumb"><a href="/">Home</a> › Customizing validations</div>
        <h1>Customizing validations</h1>
         <h2 id="validating-individual-fields">Validating individual fields</h2>

<p>Advanced Forms uses ACF to render and validate fields. This means that any custom field validations will also work with your forms. ACF provides the <code class="highlighter-rouge">acf/validate_value</code> to add extra validation logic for specific fields and it’s the recommended way to add validation logic for form fields as well. Refer to the <a href="https://www.advancedcustomfields.com/resources/">ACF documentation</a> for more info.</p>

<h2 id="validating-forms">Validating forms</h2>

<p>Sometimes it’s not sufficient to validate individual fields. From version 1.5 and onwards Advanced Forms includes the ability to add custom validation logic for full forms. This is made possible with the <code class="highlighter-rouge">af/form/validate</code> action combined with the <code class="highlighter-rouge">af_add_error</code> function. <code class="highlighter-rouge">af/form/validate</code> is invoked before submission and has access to the submitted data through <code class="highlighter-rouge">af_get_field</code>.</p>

<p>The following is an example of custom validation involving two separate fields. The <code class="highlighter-rouge">af_add_error</code> functions takes a field name (or key) as its first parameter and an error message as its second.</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">validate_name</span><span class="p">()</span> <span class="p">{</span>
    <span class="nv">$first_name</span> <span class="o">=</span> <span class="nx">af_get_field</span><span class="p">(</span> <span class="s1">'first_name'</span> <span class="p">);</span>
    <span class="nv">$last_name</span> <span class="o">=</span> <span class="nx">af_get_field</span><span class="p">(</span> <span class="s1">'last_name'</span> <span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span> <span class="s1">'Fabian Lindfors'</span> <span class="o">!=</span> <span class="nv">$first_name</span> <span class="o">.</span> <span class="s1">' '</span> <span class="o">.</span> <span class="nv">$last_name</span> <span class="p">)</span> <span class="p">{</span>
        <span class="nx">af_add_error</span><span class="p">(</span> <span class="s1">'first_name'</span><span class="p">,</span> <span class="s1">'Full name must be Fabian Lindfors!'</span> <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nx">add_action</span><span class="p">(</span> <span class="s1">'af/form/validate/key=FORM_KEY'</span><span class="p">,</span> <span class="s1">'validate_name'</span> <span class="p">);</span></code></pre></figure>

 
        <div class="related-hooks">
          <h2>Related hooks</h2>
          <ul>
                                                                          
            <li>
              <a href="/actions/af-form-validate/">af/form/validate</a>
              <span class="detail">Action</span>
            </li>
                 
          </ul>
        </div>
        
      </div>

      <aside class="sidebar">
        <div class="related">
          <p class="heading">Related</p>
          <ul>
              
            <li>Customizing validations</li>
              
            <li><a href="/guides/advanced/adding-custom-restrictions/">Adding custom restrictions</a></li>
              
            <li><a href="/guides/advanced/adding-custom-merge-tags/">Adding custom merge tags</a></li>
              
            <li><a href="/guides/advanced/decreasing-scripts-and-styles/">Decreasing number of scripts and styles</a></li>
              
            <li><a href="/guides/advanced/customizing-form-template/">Customizing the form template</a></li>
             
          </ul>
        </div>

        <!-- Begin MailChimp Signup Form -->
        <div id="mc_embed_signup" class="newsletter-signup">
          <form
            action="//github.us14.list-manage.com/subscribe/post?u=76d2abc9cd9c93679023ba4de&amp;id=d1d49ef515"
            method="post"
            id="mc-embedded-subscribe-form"
            name="mc-embedded-subscribe-form"
            class="validate"
            target="_blank"
            novalidate
          >
            <div id="mc_embed_signup_scroll">
              <p class="heading">
                Want occasional updates about Advanced Forms?
              </p>

              <div class="mc-field-group">
                <input
                  type="email"
                  value=""
                  name="EMAIL"
                  class="required email"
                  placeholder="Your email address"
                  id="mce-EMAIL"
                />
              </div>

              <div id="mce-responses" class="clear">
                <div
                  class="response"
                  id="mce-error-response"
                  style="display:none"
                ></div>
                <div
                  class="response"
                  id="mce-success-response"
                  style="display:none"
                ></div>
              </div>
              <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
              <div
                style="position: absolute; left: -5000px;"
                aria-hidden="true"
              >
                <input
                  type="text"
                  name="b_76d2abc9cd9c93679023ba4de_d1d49ef515"
                  tabindex="-1"
                  value=""
                />
              </div>
              <div class="clear">
                <input
                  type="submit"
                  value="Subscribe to updates"
                  name="subscribe"
                  id="mc-embedded-subscribe"
                  class="btn small"
                />
              </div>
            </div>
          </form>
        </div>

        <script
          type="text/javascript"
          src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"
        ></script>
        <script type="text/javascript">
          (function($) {
            window.fnames = new Array();
            window.ftypes = new Array();
            fnames[0] = "EMAIL";
            ftypes[0] = "email";
            fnames[1] = "FNAME";
            ftypes[1] = "text";
            fnames[2] = "LNAME";
            ftypes[2] = "text";
          })(jQuery);
          var $mcj = jQuery.noConflict(true);
        </script>
        <!--End mc_embed_signup-->
      </aside>
    </div>

    <script src="https://advancedforms.github.io/assets/js/script.js"></script>

<script>
  (function(i, s, o, g, r, a, m) {
    i["GoogleAnalyticsObject"] = r;
    (i[r] =
      i[r] ||
      function() {
        (i[r].q = i[r].q || []).push(arguments);
      }),
      (i[r].l = 1 * new Date());
    (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m);
  })(
    window,
    document,
    "script",
    "https://www.google-analytics.com/analytics.js",
    "ga"
  );

  ga("create", "UA-45755328-16", "auto");
  ga("send", "pageview");
</script>

  </body>
</html>
