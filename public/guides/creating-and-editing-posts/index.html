<!DOCTYPE html>




<html class="no-js" lang="en">
  
  <head>
    <title>Creating and editing posts | Advanced Forms</title>
    <meta name="description" content="">

    <meta property="og:locale" content="en_US">
    <meta property="og:title" content="Creating and editing posts">
    <meta property="og:image" content="/images/site-logo.png">
    <meta property="og:description" content="">
    <meta property="og:site_name" content="Advanced Forms">

    
    <link rel="stylesheet" href="/css/style.min.edb9bcdb8b47a22c90afb5bb4021992473b46b32dc679333da2326f9c4c7a47c.css" />
    <script src="https://unpkg.com/feather-icons"></script>
  </head>

  <body>
    <div class="container">
      <aside>
        <a class="logo-wrapper" href="/"
          ><img src="/images/icon-128x128.png" class="logo" alt="Advanced Forms logo" />
          <h1>Advanced Forms</h1>
        </a>

        <nav class="menu">
  
  
  
    

    <div class="sub-menu " data-parent="home">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"><i data-feather='play'></i> Home</h2>

      
    </div>
  
    
      
    

    <div class="sub-menu active" data-parent="guides">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"><i data-feather='align-left'></i> Guides</h2>

      
        
          <h3 class="section-title">Basic</h3>

          
            <a class="item sub " href="/guides/creating-a-form/">Creating a form</a>
          
            <a class="item sub " href="/guides/configuring-your-form/">Configuring your form</a>
          
            <a class="item sub " href="/guides/displaying-a-form/">Displaying a form</a>
          
            <a class="item sub " href="/guides/available-arguments/">Available arguments</a>
          
        
      
        
          <h3 class="section-title">Pro</h3>

          
            <a class="item sub " href="/guides/installing-and-activating/">Installing and activating</a>
          
            <a class="item sub active" href="/guides/creating-and-editing-posts/">Creating and editing posts</a>
          
            <a class="item sub " href="/guides/creating-and-editing-users/">Creating and editing users</a>
          
            <a class="item sub " href="/guides/configuring-integrations/">Configuring integrations</a>
          
            <a class="item sub " href="/guides/using-calculated-fields/">Using calculated fields</a>
          
        
      
        
          <h3 class="section-title">Advanced</h3>

          
            <a class="item sub " href="/guides/processing-form-submissions/">Processing form submissions</a>
          
            <a class="item sub " href="/guides/adding-custom-merge-tags/">Adding custom merge tags</a>
          
            <a class="item sub " href="/guides/adding-custom-restrictions/">Adding custom restrictions</a>
          
            <a class="item sub " href="/guides/customizing-the-form-template/">Customizing the form template</a>
          
            <a class="item sub " href="/guides/decreasing-number-of-scripts-and-styles/">Decreasing number of scripts and styles</a>
          
            <a class="item sub " href="/guides/customizing-validations/">Customizing validations</a>
          
        
      
    </div>
  
    

    <div class="sub-menu " data-parent="">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"><i data-feather='youtube'></i> Videos</h2>

      
    </div>
  
    

    <div class="sub-menu " data-parent="">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"><i data-feather='help-circle'></i> FAQ</h2>

      
    </div>
  
    

    <div class="sub-menu " data-parent="">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"><i data-feather='message-circle'></i> Support</h2>

      
    </div>
  
    

    <div class="sub-menu " data-parent="">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"> Divider</h2>

      
    </div>
  
    

    <div class="sub-menu " data-parent="">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"><i data-feather='code'></i> Functions</h2>

      
    </div>
  
    

    <div class="sub-menu " data-parent="actions">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"><i data-feather='zap'></i> Actions</h2>

      
        
          <h3 class="section-title">Display</h3>

          
            <a class="item sub " href="/actions/af/form/before_title/">af/form/before_title</a>
          
            <a class="item sub " href="/actions/af/form/before_fields/">af/form/before_fields</a>
          
            <a class="item sub " href="/actions/af/form/after_fields/">af/form/after_fields</a>
          
            <a class="item sub " href="/actions/af/form/hidden_fields/">af/form/hidden_fields</a>
          
        
      
        
          <h3 class="section-title">Events</h3>

          
            <a class="item sub " href="/actions/af/form/email/before_send/">af/form/email/before_send</a>
          
            <a class="item sub " href="/actions/af/form/email/after_send/">af/form/email/after_send</a>
          
            <a class="item sub " href="/actions/af/form/entry_created/">af/form/entry_created</a>
          
            <a class="item sub " href="/actions/af/form/validate/">af/form/validate</a>
          
        
      
        
          <h3 class="section-title">Pro</h3>

          
            <a class="item sub " href="/actions/af/form/editing/post_created/">af/form/editing/post_created</a>
          
            <a class="item sub " href="/actions/af/form/editing/post_updated/">af/form/editing/post_updated</a>
          
            <a class="item sub " href="/actions/af/form/editing/user_created/">af/form/editing/user_created</a>
          
            <a class="item sub " href="/actions/af/form/editing/user_updated/">af/form/editing/user_updated</a>
          
        
      
        
          <h3 class="section-title">Javascript</h3>

          
            <a class="item sub " href="/actions/af/form/page_changed/">af/form/page_changed</a>
          
            <a class="item sub " href="/actions/af/field/calculated/update_value/">af/field/calculated/update_value</a>
          
        
      
    </div>
  
    

    <div class="sub-menu " data-parent="filters">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"><i data-feather='filter'></i> Filters</h2>

      
        
          <h3 class="section-title">Forms</h3>

          
            <a class="item sub " href="/filters/af/form/args/">af/form/args</a>
          
            <a class="item sub " href="/filters/af/form/before_render/">af/form/before_render</a>
          
            <a class="item sub " href="/filters/af/form/restriction/">af/form/restriction</a>
          
            <a class="item sub " href="/filters/af/field/prefill_value/">af/field/prefill_value</a>
          
            <a class="item sub " href="/filters/af/field/before_render/">af/field/before_render</a>
          
        
      
        
          <h3 class="section-title">Display</h3>

          
            <a class="item sub " href="/filters/af/form/field_attributes/">af/form/field_attributes</a>
          
            <a class="item sub " href="/filters/af/form/button_attributes/">af/form/button_attributes</a>
          
            <a class="item sub " href="/filters/af/form/previous_button_atts/">af/form/previous_button_atts</a>
          
            <a class="item sub " href="/filters/af/form/next_button_atts/">af/form/next_button_atts</a>
          
        
      
        
          <h3 class="section-title">Emails</h3>

          
            <a class="item sub " href="/filters/af/form/email/recipients/">af/form/email/recipients</a>
          
            <a class="item sub " href="/filters/af/form/email/subject/">af/form/email/subject</a>
          
            <a class="item sub " href="/filters/af/form/email/content/">af/form/email/content</a>
          
            <a class="item sub " href="/filters/af/form/email/headers/">af/form/email/headers</a>
          
            <a class="item sub " href="/filters/af/form/email/attachments/">af/form/email/attachments</a>
          
            <a class="item sub " href="/filters/af/form/email/styles/">af/form/email/styles</a>
          
        
      
        
          <h3 class="section-title">Pro</h3>

          
            <a class="item sub " href="/filters/af/field/calculate_value/">af/field/calculate_value</a>
          
            <a class="item sub " href="/filters/af/form/editing/post_data/">af/form/editing/post_data</a>
          
            <a class="item sub " href="/filters/af/form/editing/user_data/">af/form/editing/user_data</a>
          
            <a class="item sub " href="/filters/af/form/mailchimp/request/">af/form/mailchimp/request</a>
          
        
      
    </div>
  

  <div class="main-menu ">
    
      
      <a
        class="item  "
        href="/"
        data-id="home">
        <i data-feather='play'></i> Home
      </a>
      
    
      
      <a
        class="item  has-sub-pages"
        
        data-id="guides">
        <i data-feather='align-left'></i> Guides
      </a>
      
    
      
      <a
        class="item  "
        href="/videos/"
        data-id="">
        <i data-feather='youtube'></i> Videos
      </a>
      
    
      
      <a
        class="item  "
        href="/faq/"
        data-id="">
        <i data-feather='help-circle'></i> FAQ
      </a>
      
    
      
      <a
        class="item  "
        href="/support/"
        data-id="">
        <i data-feather='message-circle'></i> Support
      </a>
      
    
      
        <div class="divider"></div>
      
    
      
      <a
        class="item  "
        href="/functions/"
        data-id="">
        <i data-feather='code'></i> Functions
      </a>
      
    
      
      <a
        class="item  has-sub-pages"
        
        data-id="actions">
        <i data-feather='zap'></i> Actions
      </a>
      
    
      
      <a
        class="item  has-sub-pages"
        
        data-id="filters">
        <i data-feather='filter'></i> Filters
      </a>
      
    
  </div>
</nav>

      </aside>
      <main>
        <header class="regular-header">
          <i data-feather="search"></i>
          <input type="text" placeholder="Search documentation..." />
        </header>

        <header class="mobile-header">
          <a href="/"><img src="/images/icon-128x128.png" class="logo" alt="Advanced Forms logo" /> </a>
          <a class="menu-toggle">Menu <i data-feather="menu"></i></a>
        </header>

        <div class="mobile-menu">
          <nav class="menu">
  
  
  
    

    <div class="sub-menu " data-parent="home">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"><i data-feather='play'></i> Home</h2>

      
    </div>
  
    
      
    

    <div class="sub-menu active" data-parent="guides">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"><i data-feather='align-left'></i> Guides</h2>

      
        
          <h3 class="section-title">Basic</h3>

          
            <a class="item sub " href="/guides/creating-a-form/">Creating a form</a>
          
            <a class="item sub " href="/guides/configuring-your-form/">Configuring your form</a>
          
            <a class="item sub " href="/guides/displaying-a-form/">Displaying a form</a>
          
            <a class="item sub " href="/guides/available-arguments/">Available arguments</a>
          
        
      
        
          <h3 class="section-title">Pro</h3>

          
            <a class="item sub " href="/guides/installing-and-activating/">Installing and activating</a>
          
            <a class="item sub active" href="/guides/creating-and-editing-posts/">Creating and editing posts</a>
          
            <a class="item sub " href="/guides/creating-and-editing-users/">Creating and editing users</a>
          
            <a class="item sub " href="/guides/configuring-integrations/">Configuring integrations</a>
          
            <a class="item sub " href="/guides/using-calculated-fields/">Using calculated fields</a>
          
        
      
        
          <h3 class="section-title">Advanced</h3>

          
            <a class="item sub " href="/guides/processing-form-submissions/">Processing form submissions</a>
          
            <a class="item sub " href="/guides/adding-custom-merge-tags/">Adding custom merge tags</a>
          
            <a class="item sub " href="/guides/adding-custom-restrictions/">Adding custom restrictions</a>
          
            <a class="item sub " href="/guides/customizing-the-form-template/">Customizing the form template</a>
          
            <a class="item sub " href="/guides/decreasing-number-of-scripts-and-styles/">Decreasing number of scripts and styles</a>
          
            <a class="item sub " href="/guides/customizing-validations/">Customizing validations</a>
          
        
      
    </div>
  
    

    <div class="sub-menu " data-parent="">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"><i data-feather='youtube'></i> Videos</h2>

      
    </div>
  
    

    <div class="sub-menu " data-parent="">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"><i data-feather='help-circle'></i> FAQ</h2>

      
    </div>
  
    

    <div class="sub-menu " data-parent="">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"><i data-feather='message-circle'></i> Support</h2>

      
    </div>
  
    

    <div class="sub-menu " data-parent="">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"> Divider</h2>

      
    </div>
  
    

    <div class="sub-menu " data-parent="">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"><i data-feather='code'></i> Functions</h2>

      
    </div>
  
    

    <div class="sub-menu " data-parent="actions">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"><i data-feather='zap'></i> Actions</h2>

      
        
          <h3 class="section-title">Display</h3>

          
            <a class="item sub " href="/actions/af/form/before_title/">af/form/before_title</a>
          
            <a class="item sub " href="/actions/af/form/before_fields/">af/form/before_fields</a>
          
            <a class="item sub " href="/actions/af/form/after_fields/">af/form/after_fields</a>
          
            <a class="item sub " href="/actions/af/form/hidden_fields/">af/form/hidden_fields</a>
          
        
      
        
          <h3 class="section-title">Events</h3>

          
            <a class="item sub " href="/actions/af/form/email/before_send/">af/form/email/before_send</a>
          
            <a class="item sub " href="/actions/af/form/email/after_send/">af/form/email/after_send</a>
          
            <a class="item sub " href="/actions/af/form/entry_created/">af/form/entry_created</a>
          
            <a class="item sub " href="/actions/af/form/validate/">af/form/validate</a>
          
        
      
        
          <h3 class="section-title">Pro</h3>

          
            <a class="item sub " href="/actions/af/form/editing/post_created/">af/form/editing/post_created</a>
          
            <a class="item sub " href="/actions/af/form/editing/post_updated/">af/form/editing/post_updated</a>
          
            <a class="item sub " href="/actions/af/form/editing/user_created/">af/form/editing/user_created</a>
          
            <a class="item sub " href="/actions/af/form/editing/user_updated/">af/form/editing/user_updated</a>
          
        
      
        
          <h3 class="section-title">Javascript</h3>

          
            <a class="item sub " href="/actions/af/form/page_changed/">af/form/page_changed</a>
          
            <a class="item sub " href="/actions/af/field/calculated/update_value/">af/field/calculated/update_value</a>
          
        
      
    </div>
  
    

    <div class="sub-menu " data-parent="filters">
      <a href="/" class="back">&larr; Go back</a>
      <h2 class="subtitle"><i data-feather='filter'></i> Filters</h2>

      
        
          <h3 class="section-title">Forms</h3>

          
            <a class="item sub " href="/filters/af/form/args/">af/form/args</a>
          
            <a class="item sub " href="/filters/af/form/before_render/">af/form/before_render</a>
          
            <a class="item sub " href="/filters/af/form/restriction/">af/form/restriction</a>
          
            <a class="item sub " href="/filters/af/field/prefill_value/">af/field/prefill_value</a>
          
            <a class="item sub " href="/filters/af/field/before_render/">af/field/before_render</a>
          
        
      
        
          <h3 class="section-title">Display</h3>

          
            <a class="item sub " href="/filters/af/form/field_attributes/">af/form/field_attributes</a>
          
            <a class="item sub " href="/filters/af/form/button_attributes/">af/form/button_attributes</a>
          
            <a class="item sub " href="/filters/af/form/previous_button_atts/">af/form/previous_button_atts</a>
          
            <a class="item sub " href="/filters/af/form/next_button_atts/">af/form/next_button_atts</a>
          
        
      
        
          <h3 class="section-title">Emails</h3>

          
            <a class="item sub " href="/filters/af/form/email/recipients/">af/form/email/recipients</a>
          
            <a class="item sub " href="/filters/af/form/email/subject/">af/form/email/subject</a>
          
            <a class="item sub " href="/filters/af/form/email/content/">af/form/email/content</a>
          
            <a class="item sub " href="/filters/af/form/email/headers/">af/form/email/headers</a>
          
            <a class="item sub " href="/filters/af/form/email/attachments/">af/form/email/attachments</a>
          
            <a class="item sub " href="/filters/af/form/email/styles/">af/form/email/styles</a>
          
        
      
        
          <h3 class="section-title">Pro</h3>

          
            <a class="item sub " href="/filters/af/field/calculate_value/">af/field/calculate_value</a>
          
            <a class="item sub " href="/filters/af/form/editing/post_data/">af/form/editing/post_data</a>
          
            <a class="item sub " href="/filters/af/form/editing/user_data/">af/form/editing/user_data</a>
          
            <a class="item sub " href="/filters/af/form/mailchimp/request/">af/form/mailchimp/request</a>
          
        
      
    </div>
  

  <div class="main-menu ">
    
      
      <a
        class="item  "
        href="/"
        data-id="home">
        <i data-feather='play'></i> Home
      </a>
      
    
      
      <a
        class="item  has-sub-pages"
        
        data-id="guides">
        <i data-feather='align-left'></i> Guides
      </a>
      
    
      
      <a
        class="item  "
        href="/videos/"
        data-id="">
        <i data-feather='youtube'></i> Videos
      </a>
      
    
      
      <a
        class="item  "
        href="/faq/"
        data-id="">
        <i data-feather='help-circle'></i> FAQ
      </a>
      
    
      
      <a
        class="item  "
        href="/support/"
        data-id="">
        <i data-feather='message-circle'></i> Support
      </a>
      
    
      
        <div class="divider"></div>
      
    
      
      <a
        class="item  "
        href="/functions/"
        data-id="">
        <i data-feather='code'></i> Functions
      </a>
      
    
      
      <a
        class="item  has-sub-pages"
        
        data-id="actions">
        <i data-feather='zap'></i> Actions
      </a>
      
    
      
      <a
        class="item  has-sub-pages"
        
        data-id="filters">
        <i data-feather='filter'></i> Filters
      </a>
      
    
  </div>
</nav>

          <a class="menu-close">Close menu <i data-feather="arrow-up"></i></a>
        </div>

        
<div class="content section">
  <h1>Creating and editing posts</h1>

  
  
  
    <nav id="TableOfContents">
  <ul>
    <li><a href="#configuring-your-form">Configuring your form</a></li>
    <li><a href="#displaying-your-form">Displaying your form</a></li>
    <li><a href="#customizations">Customizations</a>
      <ul>
        <li><a href="#setting-the-post-thumbnail">Setting the post thumbnail</a></li>
        <li><a href="#redirecting-to-post-after-creation">Redirecting to post after creation</a></li>
      </ul>
    </li>
  </ul>
</nav>
  

  <p>A common use case for front-end forms is allowing users to create and edit posts. Maybe you want to let users submit post drafts which administrators can review and publish. Or have a post type for support issues which customers can submit and edit. Advanced Forms Pro makes it dead-simple to make forms which create and edit posts.</p>
<h2 id="configuring-your-form">Configuring your form</h2>
<p>Go to the Wordpress admin and edit the form which you want to configure. Under &ldquo;Editing&rdquo;, select &ldquo;Posts&rdquo; and you should be presented with a wide array of settings.</p>
<p>The &ldquo;Post type&rdquo; setting specifies which post type new posts will have. When editing a post instead the post type setting will be ignored. For the post title and content it&rsquo;s possible to either select a field from which to retrieve a value or use a more complex, custom format. A custom format won&rsquo;t work with post editing and should only be used for creating new posts.</p>
<p>There is also a setting for &ldquo;Custom fields&rdquo; which allows you to map fields from a form to a post. This enables you to create an ACF field group which is shared between a form and a post type. The selected fields will the automatically be mapped without any code.</p>
<p><img src="/images/editing-post-settings.png" alt="Example form configuration"></p>
<h2 id="displaying-your-form">Displaying your form</h2>
<p>If editing has been configured for a form you will also need to specify whether to create a new post or edit an existing one. If you want to create a new post you don&rsquo;t have to anything in particular. If you want to edit a post though you need to pass a post ID with the form argument <code>post</code>. The current post can be edited by using <code>current</code> instead.</p>
<p>Create a new post:
<code>[advanced_form form=&quot;form_key&quot;]</code></p>
<p>Edit a post with a specific ID:
<code>[advanced_form form=&quot;form_key&quot; post=&quot;1&quot;]</code></p>
<p>Edit the currently displayed post:
<code>[advanced_form form=&quot;form_key&quot; post=&quot;current&quot;]</code></p>
<p>Of course it&rsquo;s also possible to pass these arguments when using a function call:
<code>advanced_form( 'form_key', array( 'post' =&gt; 1 ) );</code></p>
<h2 id="customizations">Customizations</h2>
<h3 id="setting-the-post-thumbnail">Setting the post thumbnail</h3>
<p>The post thumbnail (also called featured image) can be set from a field using the <code>af/form/editing/post_created</code> action. Make sure your image field is configured to return an attachment ID.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#000;font-weight:bold">&lt;?</span>php

<span style="color:#000;font-weight:bold">function</span> <span style="color:#900;font-weight:bold">form_created_post_thumbnail</span>( <span style="color:#008080">$post</span> ) {
  <span style="color:#008080">$image_id</span> <span style="color:#000;font-weight:bold">=</span> af_get_field( <span style="color:#d14">&#39;IMAGE_FIELD_NAME&#39;</span> );
  set_post_thumbnail( <span style="color:#008080">$post</span><span style="color:#000;font-weight:bold">-&gt;</span><span style="color:#008080">ID</span>, <span style="color:#008080">$image_id</span> );
}
add_action( <span style="color:#d14">&#39;af/form/editing/post_created/key=FORM_KEY&#39;</span>, <span style="color:#d14">&#39;form_created_post_thumbnail&#39;</span>, <span style="color:#099">10</span>, <span style="color:#099">1</span> );
</code></pre></div>
<h3 id="redirecting-to-post-after-creation">Redirecting to post after creation</h3>
<p>To redirect to a post after creation it&rsquo;s recommended to use <code>af/form/submission</code> with a high priority instead of <code>af/form/editing/post_created</code>. Otherwise there is a risk of stopping emails from being sent and integrations from working. The created post ID can be accessed by using <code>AF()-&gt;submission['post']</code>.</p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-php" data-lang="php"><span style="color:#000;font-weight:bold">&lt;?</span>php

<span style="color:#000;font-weight:bold">function</span> <span style="color:#900;font-weight:bold">form_redirect_to_post</span>() {
  <span style="color:#008080">$post_id</span> <span style="color:#000;font-weight:bold">=</span> AF()<span style="color:#000;font-weight:bold">-&gt;</span><span style="color:#008080">submission</span>[<span style="color:#d14">&#39;post&#39;</span>];
  <span style="color:#008080">$url</span> <span style="color:#000;font-weight:bold">=</span> get_permalink( <span style="color:#008080">$post_id</span> );

  wp_redirect( <span style="color:#008080">$url</span> );
  <span style="color:#000;font-weight:bold">exit</span>;
}
add_action( <span style="color:#d14">&#39;af/form/submission/key=FORM_KEY&#39;</span>, <span style="color:#d14">&#39;form_redirect_to_post&#39;</span>, <span style="color:#099">20</span> );
</code></pre></div>

</div>


        <footer class="section">
          Created by <a href="https://fabianlindfors.se">Fabian Lindfors</a> 🇸🇪 in collaboration with <a href="https://hookturn.io">Hookturn</a> 🇦🇺
        </footer>
      </main>
    </div>

    <script>
      feather.replace();
    </script>

    
    <script src="/js/script.js"></script>
  </body>
</html>
